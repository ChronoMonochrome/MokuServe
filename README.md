# ğŸ“š Manga Zip Server (Kodi-Inspired)

<video src="https://github.com/user-attachments/assets/8615a18d-d33e-44da-846a-b000f7264a90" controls="controls" style="max-width: 730px;">
</video>


A lightweight, zero-extraction Python web server designed to serve manga processed with **Mokuro** directly from `.zip` archives.

## ğŸŒŸ Key Features

-   **Zero Extraction:** Reads images, JSON, and HTML directly from ZIP files into memory. Perfect for saving SD card life and storage space on devices like Raspberry Pi or Android tablets.
    
-   **Mokuro Compatible:** Dynamically rewrites HTML and CSS paths (including `background-image` styles) to ensure Mokuro's interactive OCR overlays work perfectly inside the archive.
    
-   **Kodi-Inspired UI:** A clean, dark-mode "Netflix/Kodi" style grid interface for browsing your library.
    
-   **Auto-Posters:** Automatically scans your ZIP files to find the first image (usually the cover) to display as a thumbnail.
    
-   **Special Character Support:** Robust handling for Japanese characters and symbols (e.g., `â–³`, `!`, `[]`) in filenames.
    

----------

## ğŸš€ Quick Start

### 1. Prerequisites

Ensure you have Python 3.10+ installed. You will need two external libraries:

Bash

```
pip install flask beautifulsoup4

```

### 2. File Structure

Place `manga_server.py` in the root of your manga directory. Your ZIP files should contain the images and the `.html` files generated by Mokuro.

Plaintext

```
manga_downloads/
â”œâ”€â”€ manga_server.py
â”œâ”€â”€ Yotsuba to!.zip
â”œâ”€â”€ Yuru Campâ–³.zip
â””â”€â”€ [Oshi no Ko].zip

```

### 3. Run the Server

Bash

```
python manga_server.py

```

By default, the server runs on `http://localhost:5000`. You can access it from other devices on your Wi-Fi using your computer's IP address (e.g., `http://192.168.1.104:5000`).

----------

## ğŸ› ï¸ How it Works

The server acts as a **Virtual File System**. When you click on a manga:

1.  **The Indexer** finds the first image in the ZIP to create the library grid.
    
2.  **The HTML Rewriter** intercepts requests for `.html` files, parses the code using `BeautifulSoup`, and uses Regex to find all relative paths.
    
3.  **The Proxy** routes these paths through a custom `/zip_content/` endpoint, fetching the raw bytes from the ZIP archive and serving them with the correct MIME type (image/jpeg, text/javascript, etc.).
    

----------

## ğŸ“– Usage Tips

-   **Performance:** Performance is limited by your disk's read speed. For the best experience on a tablet, use a 5GHz Wi-Fi connection.
    
-   **Packaging:** When zipping your manga, ensure the `.mokuro` file and `_ocr` folders (if using legacy HTML) are included in the same relative structure they were generated in.
    
-   **Android:** Use Chrome or Firefox on Android. You can use the "Add to Home Screen" option in your browser to use the server like a native app.
    

----------

## âš–ï¸ License

This project is open-source. Feel free to modify the CSS in the `KODI_STYLE` variable to customize the look of your library!
